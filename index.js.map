{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst apiKey = '48552658-8d0576f2bce30f826d9dd5e42';\n\nconst searchInput = document.querySelector('.search-input');\nconst searchButton = document.querySelector('.search-button');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadMoreButton = document.querySelector('.load-more');\n\nlet page = 1;\n\nsearchButton.addEventListener('click', () => {\n  const query = searchInput.value.trim();\n  if (query) {\n    fetchImages(query);\n  } else {\n    alert('Please enter a valid search term!');\n  }\n});\n\nloadMoreButton.addEventListener('click', function() {\n  const query = searchInput.value.trim();\n  loadMoreImages(query);\n});\n\n// Async/Await kullanarak fetch işlemi\nasync function fetchImages(query) {\n  loader.style.display = 'block';  // Yükleme göstergesini aç\n  gallery.innerHTML = '';  // Önceki görselleri temizle\n\n  try {\n    const response = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&per_page=15&page=${page}`);\n    const data = await response.json();\n    \n    const images = data.hits;\n\n    if (images.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight'\n      });\n      return;\n    }\n\n    let imageMarkup = '';\n    images.forEach(image => {\n      imageMarkup += `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <div class=\"image-info\">\n            <p>Likes: ${image.likes}</p>\n            <p>Views: ${image.views}</p>\n            <p>Comments: ${image.comments}</p>\n            <p>Downloads: ${image.downloads}</p>\n          </div>\n        </a>\n      `;\n    });\n\n    gallery.innerHTML = imageMarkup;  // Galeriye HTML ekle\n    updateLightbox();  // SimpleLightbox'u güncelle\n    loader.style.display = 'none';  // Yükleme göstergesini kapat\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'An error occurred while loading images!',\n      position: 'topRight'\n    });\n    console.error(\"Error:\", error);\n    loader.style.display = 'none';\n  }\n\n  loadMoreButton.style.display = 'block';  // Butonu görünür yap\n}\n\n// Async/Await kullanarak loadMore işlemi\nasync function loadMoreImages(query) {\n  page++;\n  loader.style.display = 'block';  // Yükleme göstergesini aç\n\n  try {\n    const response = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&per_page=15&page=${page}`);\n    const data = await response.json();\n    \n    const images = data.hits;\n\n    if (images.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'No more images found!',\n        position: 'topRight'\n      });\n      loader.style.display = 'none';\n      return;\n    }\n\n    let imageMarkup = '';\n    images.forEach(image => {\n      imageMarkup += `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <div class=\"image-info\">\n            <p>Likes: ${image.likes}</p>\n            <p>Views: ${image.views}</p>\n            <p>Comments: ${image.comments}</p>\n            <p>Downloads: ${image.downloads}</p>\n          </div>\n        </a>\n      `;\n    });\n\n    gallery.innerHTML += imageMarkup;\n    updateLightbox();\n    loader.style.display = 'none';\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'An error occurred while loading images!',\n      position: 'topRight'\n    });\n    console.error(\"Error:\", error);\n    loader.style.display = 'none';\n  }\n}\n\n// SimpleLightbox'u başlat\nlet lightbox = new SimpleLightbox('.gallery a');\n\n// Galeri güncellendiğinde SimpleLightbox'u yenile\nfunction updateLightbox() {\n  lightbox.refresh();\n}\n"],"names":["apiKey","searchInput","searchButton","gallery","loader","loadMoreButton","page","query","fetchImages","loadMoreImages","images","iziToast","imageMarkup","image","updateLightbox","error","lightbox","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAS,qCAETC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,YAAY,EAE1D,IAAIC,EAAO,EAEXJ,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMK,EAAQN,EAAY,MAAM,KAAI,EAChCM,EACFC,EAAYD,CAAK,EAEjB,MAAM,mCAAmC,CAE7C,CAAC,EAEDF,EAAe,iBAAiB,QAAS,UAAW,CAClD,MAAME,EAAQN,EAAY,MAAM,KAAI,EACpCQ,EAAeF,CAAK,CACtB,CAAC,EAGD,eAAeC,EAAYD,EAAO,CAChCH,EAAO,MAAM,QAAU,QACvBD,EAAQ,UAAY,GAEpB,GAAI,CAIF,MAAMO,GAFO,MADI,MAAM,MAAM,gCAAgCV,CAAM,MAAMO,CAAK,sCAAsCD,CAAI,EAAE,GAC9F,QAER,KAEpB,GAAII,EAAO,SAAW,EAAG,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAO,EACD,MACD,CAED,IAAIC,EAAc,GAClBF,EAAO,QAAQG,GAAS,CACtBD,GAAe;AAAA,mBACFC,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wBAEpCA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAI3C,CAAK,EAEDV,EAAQ,UAAYS,EACpBE,IACAV,EAAO,MAAM,QAAU,MACxB,OAAQW,EAAO,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,QAAQ,MAAM,SAAUI,CAAK,EAC7BX,EAAO,MAAM,QAAU,MACxB,CAEDC,EAAe,MAAM,QAAU,OACjC,CAGA,eAAeI,EAAeF,EAAO,CACnCD,IACAF,EAAO,MAAM,QAAU,QAEvB,GAAI,CAIF,MAAMM,GAFO,MADI,MAAM,MAAM,gCAAgCV,CAAM,MAAMO,CAAK,sCAAsCD,CAAI,EAAE,GAC9F,QAER,KAEpB,GAAII,EAAO,SAAW,EAAG,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wBACT,SAAU,UAClB,CAAO,EACDP,EAAO,MAAM,QAAU,OACvB,MACD,CAED,IAAIQ,EAAc,GAClBF,EAAO,QAAQG,GAAS,CACtBD,GAAe;AAAA,mBACFC,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wBAEpCA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAI3C,CAAK,EAEDV,EAAQ,WAAaS,EACrBE,IACAV,EAAO,MAAM,QAAU,MACxB,OAAQW,EAAO,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,QAAQ,MAAM,SAAUI,CAAK,EAC7BX,EAAO,MAAM,QAAU,MACxB,CACH,CAGA,IAAIY,EAAW,IAAIC,EAAe,YAAY,EAG9C,SAASH,GAAiB,CACxBE,EAAS,QAAO,CAClB"}